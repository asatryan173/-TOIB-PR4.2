# -TOIB-PR4.2
# Практическое задание на тему "Контроль целостности"
Выполнил студент группы: ББМО-01-23 Асатрян Д. Р.
# Установка и запуск виртуальной машины с Astra linux
Для выполнения данного задания был скачан образ Astra Linux ( ссылка: https://1drv.ms/u/s!Ap1Ijs338IQ9gZFmLJ5hn45FgcVLoQ?e=mH7Jzg ) и установлена версия системы с максимальным уровнем защиты "Смоленск" 
![image](https://github.com/asatryan173/-TOIB-PR4.2/assets/71139053/c4969a78-8f2c-4db4-bad3-c54e905259d2)
![image](https://github.com/asatryan173/-TOIB-PR4.2/assets/71139053/b8acaf1e-8aa4-4244-a114-2efae86001bb)
# Установка, настройка и проверка мандатного контроля целостности
Для установки мандатного контроля целостности (МКЦ) в ОС Astra Linux выбираем указанные галочки в процессе дополнительных настройках ОС
![image](https://github.com/asatryan173/-TOIB-PR4.2/assets/71139053/e2df9767-fb5f-4999-bda3-4ad0b5ae78eb)
Для измнения конфигурации МКЦ в Astra Linux необходимо запустить настройки "Управление политикой безопасности"
![image](https://github.com/asatryan173/-TOIB-PR4.2/assets/71139053/f9480f11-4c1b-4c71-a409-05699d378036)
В меню "Режим эксперта" назначаем уровни целостности для директорий. В качестве проверки правила NWU обозначили 2 тестовые директории ("Музыка" и "Видео") с правами:
![image](https://github.com/asatryan173/-TOIB-PR4.2/assets/71139053/9b19dfc6-51ad-4c2c-aed0-05010b581776)
![image](https://github.com/asatryan173/-TOIB-PR4.2/assets/71139053/2b25559a-5394-421c-94e5-829b56befd66)
Проверяем настройку мандатного контроля зайдя в учетную запись с атрибутом целостности на уровне "Низкий".
Пример взаимодействия (записи) между тестовыми директориями:
![image](https://github.com/asatryan173/-TOIB-PR4.2/assets/71139053/2064a721-da29-4fb7-bf44-37532d1dd0f9)
Здесь можно увидеть, что копирование файла с атрибутом ниже в папку с атрибутом выше не сработало - была получена ошибка доступа. В то же время "запись вниз" работает.

# Работа с режимом замкнутой программной среды 
Проверка работы режима замкнутой программной среды (ЗПС) в утилите "Управлении политикой безопасности" посредством включения настроек:
![image](https://github.com/asatryan173/-TOIB-PR4.2/assets/71139053/49b5685b-070b-4ecf-bb22-4a29c2843cc0)
В качестве тестового файла был взят установщик Discord. Результат выполнения:
![image](https://github.com/asatryan173/-TOIB-PR4.2/assets/71139053/c690d2bf-0220-4151-9be5-8b2f59011713)
![image](https://github.com/asatryan173/-TOIB-PR4.2/assets/71139053/c6922309-54fb-48a7-a74a-bade784b0dc1)
# Работа с утилитами контроля целостности и регламентного контроля целостности
Использование gostsum
Утилита gostsum вычисляет хэш-сумму файлов в соответствии с ГОСТ Р 34.11-2012. В данной практике он у меня уже установлен.
Использование afick
afick - утилита, предназначенная для контроля целостности файловой системы ОС. Для корректной работы утилиты сначала создаём БД утилиты:
![image](https://github.com/asatryan173/-TOIB-PR4.2/assets/71139053/3e394706-7715-4aa7-ad86-e82eca4b59d8)
![image](https://github.com/asatryan173/-TOIB-PR4.2/assets/71139053/cfeee8e4-8489-4965-9d2d-fba550126643)
Далее изменяем часть системных файлов для получения ответа от утилиты, перед этим делаем "бэкап" файл:
![image](https://github.com/asatryan173/-TOIB-PR4.2/assets/71139053/f63d59b5-d624-4b43-aeb4-67278ec2c624)
Получили результат от утилиты:
![image](https://github.com/asatryan173/-TOIB-PR4.2/assets/71139053/8a523759-152f-4516-896a-ac3fd588da24)
![image](https://github.com/asatryan173/-TOIB-PR4.2/assets/71139053/c2755672-26b7-46ee-bfb7-2122ca62fcdf)
